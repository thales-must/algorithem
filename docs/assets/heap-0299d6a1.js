var A=Object.defineProperty;var D=(s,t,e)=>t in s?A(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>(D(s,typeof t!="symbol"?t+"":t,e),e);import{d as $,o as _,c,F as v,r as H,a as g,b as y,t as E,e as L,f as u,g as U,h as l,i as o,w as i,j as B,k as h,l as j}from"./index-0bd18376.js";const q={version:"1.1",width:"600",height:"400",xmlns:"http://www.w3.org/2000/svg"},G=["opacity","x2","y2","x1","y1"],J=["begin"],K=["x","y","opacity"],O=y("circle",{cx:"0",cy:"0",r:"20",fill:"white",stroke:"black"},null,-1),P={x:"0",y:"5","text-anchor":"middle"},Q=["begin"],C=$({__name:"heap-tree",props:{step:{},animate:{type:Boolean}},setup(s){const t=s;return(e,n)=>(_(),c("svg",q,[(_(!0),c(v,null,H(t.step,(r,a)=>(_(),c(v,null,[r.parentY!=0?(_(),c("line",{key:0,opacity:t.animate?0:1,x2:r.x+20,y2:r.y+20,x1:r.parentX+20,y1:r.parentY+20,stroke:"black","stroke-dasharray":"200, 20","stroke-dashoffset":"200"},[t.animate?(_(),c("animate",{key:0,attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:`${Number(a*.5)+1}s`,fill:"freeze"},null,8,J)):g("",!0)],8,G)):g("",!0),(_(),c("svg",{x:r.x,y:r.y,viewBox:"-20, -20, 40, 40",width:"40",height:"40",opacity:t.animate?0:1},[O,y("text",P,E(r.value),1),t.animate?(_(),c("animate",{key:0,attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:`${a*.5}s`,fill:"freeze"},null,8,Q)):g("",!0)],8,K))],64))),256))]))}});class T{constructor(t){f(this,"_arr",[]);f(this,"_step",[]);this._arr=t}init(){this._step=new Array(this._arr.length),this.drawTree(0,300,50,150)}getStep(){return[...this._step]}drawTree(t,e=0,n=0,r=0,a=0,d=0){if(t<this._arr.length){this._step[t]={index:t,value:this._arr[t],parentX:a,parentY:d,x:e,y:n};const m=2*t+1,b=2*t+2;this.drawTree(m,e-r,n+50,r/2,e,n),this.drawTree(b,e+r,n+50,r/2,e,n)}}build(){const t=this._arr.length;for(let e=Math.floor(t/2)-1;e>=0;e--)this.heapify(t,e)}sort(){const t=this._arr.length;for(var e=t-1;e>0;e--)this.swap(e,0),this.heapify(e,0)}heapify(t,e){let n=e,r=2*e+1,a=2*e+2;r<t&&this._arr[r]>this._arr[n]&&(n=r),a<t&&this._arr[a]>this._arr[n]&&(n=a),n!==e&&(this.swap(e,n),this.heapify(t,n))}swap(t,e){const n=this._arr[t];this._arr[t]=this._arr[e],this._arr[e]=n}}const R=L({id:"heap",state:()=>({_form:{},_origin:[],_initStep:[],_step:[]}),getters:{form(){return this._form},origin(){return this._origin},initStep(){return this._initStep},step(){return this._step}},actions:{input(s){const t=s.split(",");this._origin=[];for(const n of t)this._origin.push(Number(n));this._initStep=[];const e=new T([...this._origin]);e.init(),this._initStep=e.getStep()},start(){const s=new T([...this._origin]);s.build(),s.sort(),s.init(),this._step=s.getStep(),console.log(s._arr)},init(){this._form={str:"16,14,10,8,7,9,3,2,4,1"}}}}),W={class:"algorithm"},Z=y("h1",null,"Heap",-1),et=$({__name:"heap",setup(s){const t=R(),e=u(()=>t.form),n=u(()=>t.origin),r=u(()=>t.step),a=u(()=>t.initStep);function d(){t.input(e.value.str)}function m(){t.start()}return U(()=>{t.init()}),(b,w)=>{const S=l("v-card-title"),M=l("v-text-field"),k=l("v-card-text"),x=l("v-btn"),N=l("v-card-actions"),z=l("v-form"),V=l("v-card"),F=l("v-spacer"),I=l("v-chip"),Y=l("v-chip-group");return _(),c("article",W,[Z,o(V,null,{default:i(()=>[o(z,{onSubmit:B(d,["prevent"])},{default:i(()=>[o(S,null,{default:i(()=>[h("Input")]),_:1}),o(k,null,{default:i(()=>[o(M,{modelValue:e.value.str,"onUpdate:modelValue":w[0]||(w[0]=p=>e.value.str=p),variant:"outlined",label:"Number Series",hint:"输入数字，用空格分隔，如 1,2,3,4"},null,8,["modelValue"])]),_:1}),o(N,null,{default:i(()=>[o(x,{type:"submit",variant:"outlined"},{default:i(()=>[h("Submit")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),o(F,{style:{height:"2em"}}),o(V,null,{default:i(()=>[o(S,null,{default:i(()=>[h(" Init ")]),_:1}),o(N,null,{default:i(()=>[o(x,{variant:"outlined",onClick:B(m,["stop"])},{default:i(()=>[h("start")]),_:1},8,["onClick"])]),_:1}),o(k,null,{default:i(()=>[o(Y,null,{default:i(()=>[(_(!0),c(v,null,H(n.value,p=>(_(),j(I,{key:p,text:String(p)},null,8,["text"]))),128))]),_:1}),o(C,{step:a.value,animate:""},null,8,["step"]),o(C,{step:r.value},null,8,["step"])]),_:1})]),_:1})])}}});export{et as default};
